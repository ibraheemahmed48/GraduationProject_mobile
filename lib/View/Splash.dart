import 'package:awesome_dialog/awesome_dialog.dart';import 'package:flutter/cupertino.dart';import 'package:flutter/material.dart';import 'package:get/get.dart';import 'package:loading_animation_widget/loading_animation_widget.dart';import 'package:notificationsystem_mobile/controler/method.dart';import '../controler/InternetConnectivityChecker.dart';import '../controler/auth/auth.dart';import '../help/Colors.dart';import '../help/text_style.dart';import '../test.dart';import '../test2.dart';import 'Login_page/login_main_page.dart';import 'home_page.dart';class Splash extends StatefulWidget {  Splash({Key? key}) : super(key: key);  @override  State<Splash> createState() => _SplashState();}class _SplashState extends State<Splash> {  InternetConnectivityChecker? _connectivityChecker;  @override  RxBool splashflag = false.obs;  void initState() {    _connectivityChecker = InternetConnectivityChecker();    // Subscribe to the stream and log the connectivity status to the console    _connectivityChecker?.isConnected.listen((isConnected) {      InternetConnectivityChecker.isConnected1.value = isConnected;      print(          'sssCurrent internet connectivity status: ${InternetConnectivityChecker.isConnected1.value}');    });    @override    void dispose() {      _connectivityChecker?.dispose();      super.dispose();    }    splashflag.value = true;    void _autoLogin() async {      String email = await UserPreferences.getEmail() ?? "";      String password = await UserPreferences.getPassword() ?? "";      if (email.isEmpty && password.isEmpty) {        print(            "ششششششGet.off(LogIn_Main_Page(),transition: Transition.noTransition);");        Get.off(LogIn_Main_Page(), transition: Transition.noTransition);      } else {        Get.off(HomePage(), transition: Transition.noTransition);        await UserPreferences.getAccount1();        print("isConnected1 : ${Methods.isConnected1}");      }    }    Future.delayed(Duration(seconds: 3), () {      splashflag.value = false;    }).then((value) => _autoLogin());    //_autoLogin();  }  @override  Widget build(BuildContext context) {    return Scaffold(      backgroundColor: Colorsapp.White,      body: SafeArea(        child: Padding(          padding: const EdgeInsets.all(8.0),          child: Column(            mainAxisAlignment: MainAxisAlignment.center,            children: [              Image.asset(                "photo/logo.png",                width: MediaQuery.of(context).size.width / 2,                height: MediaQuery.of(context).size.height / 4,              ),              Center(                child: Text(                  "جامعة توكنولوجيا",                  style: Text_Style.getstyle(                      fontsize: MediaQuery.of(context).size.width / 18,                      ColorText: Colorsapp.mainColor,                      fontWeight: FontWeight.w700),                ),              ),              Center(                child: Text(                  "المعلومات والاتصالات",                  style: Text_Style.getstyle(                      fontsize: MediaQuery.of(context).size.width / 18,                      ColorText: Colorsapp.mainColor,                      fontWeight: FontWeight.w700),                ),              ),              Center(                child: Text(                  "كلية الهندسة",                  style: Text_Style.getstyle(                      fontsize: MediaQuery.of(context).size.width / 18,                      ColorText: Colorsapp.mainColor,                      fontWeight: FontWeight.w700),                ),              ),              Center(                child: Text(                  "قسم تكنولوجيا الاعلام والاتصالات",                  style: Text_Style.getstyle(                      fontsize: MediaQuery.of(context).size.width / 18,                      ColorText: Colorsapp.mainColor,                      fontWeight: FontWeight.w500),                ),              ),              // Padding(              //   padding: const EdgeInsets.only(top: 50),              //   child: Center(              //     child: Text("تبليغات الطلاب",              //       style: Text_Style.getstyle(              //           fontsize: MediaQuery.of(context).size.width/15,              //           ColorText: Colorsapp.mainColor,              //           fontWeight: FontWeight.w900),              //              //     ),              //   ),              // ),              Obx(() {                return splashflag == true                    ? Padding(                        padding: const EdgeInsets.only(top: 30),                        child: Center(                          child: LoadingAnimationWidget.flickr(                            size: 100,                            leftDotColor: Colorsapp.mainColor,                            rightDotColor: Colorsapp.SecondColor,                            //color: Colorsapp.mainColor,                          ),                        ),                      )                    : Container(                        height: 130,                      );              }),            ],          ),        ),      ),    );  }}