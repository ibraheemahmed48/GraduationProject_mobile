// import 'dart:async';// import 'dart:typed_data';// import 'dart:ui' as ui;//// import 'package:dio/dio.dart';// import 'package:flutter/material.dart';// import 'package:flutter/rendering.dart';// import 'package:fluttertoast/fluttertoast.dart';// import 'package:image_gallery_saver/image_gallery_saver.dart';// import 'package:path_provider/path_provider.dart';// import 'package:permission_handler/permission_handler.dart';//////////// class MyHomePage extends StatefulWidget {//   @override//   _MyHomePageState createState() => _MyHomePageState();// }//// class _MyHomePageState extends State<MyHomePage> {//   GlobalKey _globalKey = GlobalKey();////   @override//   void initState() {//     super.initState();////     _requestPermission();////   }////   @override//   Widget build(BuildContext context) {//     return Scaffold(//         appBar: AppBar(//           title: Text("Save image to gallery"),//         ),//         body: Center(//           child: Column(//             children: <Widget>[//               RepaintBoundary(//                 key: _globalKey,//                 child: Container(//                   width: 200,//                   height: 200,//                   color: Colors.red,//                 ),//               ),//               Container(//                 padding: EdgeInsets.only(top: 15),//                 child: ElevatedButton(//                   onPressed: _saveScreen,//                   child: Text("Save Local Image"),//                 ),//                 width: 200,//                 height: 44,//               ),//               Container(//                 padding: EdgeInsets.only(top: 15),//                 child: ElevatedButton(//                   onPressed: _getHttp,//                   child: Text("Save network image"),//                 ),//                 width: 200,//                 height: 44,//               ),//////             ],//           ),//         ));//   }////   _requestPermission() async {//     Map<Permission, PermissionStatus> statuses = await [//       Permission.storage,//     ].request();////     final info = statuses[Permission.storage].toString();//     print(info);//     _toastInfo(info);//   }////   _saveScreen() async {//     RenderRepaintBoundary boundary =//     _globalKey.currentContext!.findRenderObject() as RenderRepaintBoundary;//     ui.Image image = await boundary.toImage();//     ByteData? byteData = await (image.toByteData(format: ui.ImageByteFormat.png) as FutureOr<ByteData?>);//     if (byteData != null) {//       final result =//       await ImageGallerySaver.saveImage(byteData.buffer.asUint8List());//       print(result);//       _toastInfo(result.toString());//     }//   }////   _getHttp({required String url}) async {//     var response = await Dio().get(//         "$url",//         options: Options(responseType: ResponseType.bytes));//     final result = await ImageGallerySaver.saveImage(//         Uint8List.fromList(response.data),//         quality: 60,//         name: "hello");//     print(result);//     _toastInfo("$result");//   }////////   _toastInfo(String info) {//     Fluttertoast.showToast(msg: info, toastLength: Toast.LENGTH_LONG);//   }// }