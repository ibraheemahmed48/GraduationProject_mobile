import 'package:cloud_firestore/cloud_firestore.dart';import 'package:flutter/cupertino.dart';import 'package:flutter/material.dart';import 'help/Colors.dart';import 'help/text_style.dart';class  Sqltest extends StatefulWidget {  const  Sqltest({Key? key}) : super(key: key);  @override  State<Sqltest> createState() => _SqltestState();}class _SqltestState extends State< Sqltest> {   dynamic newsList = [];    Future<List<Map<String, dynamic>>> getAllNews() async {      newsList!=[];      // Get a reference to the News collection      FirebaseFirestore.instance.settings.persistenceEnabled;      final CollectionReference<Map<String, dynamic>> collectionRef =      FirebaseFirestore.instance.collection("News");      // Retrieve all documents from the collection      final QuerySnapshot<Map<String, dynamic>> querySnapshot =      await collectionRef.get();      // Map each document snapshot to a Map of key-value pairs      newsList = querySnapshot.docs.map((doc) => doc.data()) ;      return querySnapshot.docs.map((doc) => doc.data()).toList();    }  @override  Widget build(BuildContext context) {    return Scaffold(      body: SafeArea(        child: Center(          child: Column(            mainAxisAlignment: MainAxisAlignment.center,            children: [              ElevatedButton(onPressed: ()async{                print("=============== GET DATA ===============");                setState(() {                });                print(await getAllNews().runtimeType);                Future.delayed(Duration(seconds: 5),(){                  print("newsList: ${newsList.length}");                });              },                  child: Text("get data",                    style: Text_Style.getstyle(                    fontWeight:                    FontWeight.w900,                    ColorText:                    Colorsapp.mainColor,                    fontsize:                    MediaQuery.of(context)                        .size                        .width /                        20,                  ),                  )),              ElevatedButton(onPressed: ()async{                print("=============== PRINT DATA ===============");                print("${newsList}");                setState(() {                });              },                  child: Text("print data",                    style: Text_Style.getstyle(                      fontWeight:                      FontWeight.w900,                      ColorText:                      Colorsapp.mainColor,                      fontsize:                      MediaQuery.of(context)                          .size                          .width /                          30,                    ),                  )              ),                              if(newsList.length!=0)                              Text("${newsList}",  style:Text_Style.getstyle(  fontWeight:  FontWeight.w900,  ColorText:  Colorsapp.mainColor,  fontsize:  MediaQuery.of(context)      .size      .width /      30,),),    if(newsList.length==0)      Text("{newsList}",        style:Text_Style.getstyle(          fontWeight:          FontWeight.w900,          ColorText:          Colorsapp.mainColor,          fontsize:          MediaQuery.of(context)              .size              .width /              20,        ),),            ],          ),        ),      ),    );  }}